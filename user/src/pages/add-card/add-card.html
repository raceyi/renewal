<!--
  Generated template for the AddCardPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->

<ion-header>
  <ion-navbar hideBackButton>
  <ion-buttons start>
    <button style="color:white;background-color:#FF5F3A;" (click)="dismiss()" ><ion-icon style="font-size:4.8vw;" name="ios-arrow-back"></ion-icon></button>
  </ion-buttons>
  <ion-title> 카드 등록
  </ion-title>
  </ion-navbar>
</ion-header>
<ion-content style="background-color:#f7f7f9;">
<p padding> NICEPAY에서 제공하는 결제 서비스입니다. </p>

<div style="background-color:white;">
  <ion-segment [(ngModel)]="type" (ionChange)="changeSegment()">
    <ion-segment-button value="person">
      개인
    </ion-segment-button>
    <ion-segment-button value="corporation">
      법인
    </ion-segment-button>
  </ion-segment> 
  <div *ngIf="type=='person'">
  <ion-row>
    <ion-col col-2 align-self-center>
    카드번호
    </ion-col>    
    <ion-col col-8 align-self-center>
      <ion-input #cardNo1Element style="background-color:#f7f7f9;" [(ngModel)]="cardNo"  placeholder="1234-5678-9012-3456" type="tel" (keyup)="changeCardNo()"> </ion-input>
    </ion-col>    
  </ion-row>
  <ion-row>
    <ion-col col-2 align-self-center>
      유효기간
    </ion-col>     
    <ion-col col-2 align-self-center>
      <ion-input style="background-color:#f7f7f9;" type="number" [(ngModel)]="expire" (keyup)="changeExpire()"  placeholder="MMYY"> </ion-input>
    </ion-col>
  </ion-row>

  <ion-row>
    <ion-col col-2 align-self-center>
      생년월일
    </ion-col>     
    <ion-col col-3 align-self-center>
      <ion-input style="background-color:#f7f7f9;" type="number"  [(ngModel)]="birth" (keyup)="changeBirth()" placeholder="6자리"> </ion-input>
    </ion-col>
    <ion-col col-4 align-self-center>
      6자리(ex.000101)
    </ion-col>
  </ion-row>
  <ion-row>
    <ion-col col-2 align-self-center>
      비밀번호
    </ion-col>     
    <ion-col col-2 align-self-center>
      <ion-input style="background-color:#f7f7f9;" type="number" [(ngModel)]="cardPwd" (keyup)="changeCardPwd()" placeholder="2자리"> </ion-input>
    </ion-col>
    <ion-col col-4 align-self-center>
      XX(앞 2자리)
    </ion-col>
  </ion-row>
  </div>
  <div *ngIf="type=='corporation'" style="border: solid 1px orange;">
    <ion-row>
      <ion-col col-2 align-self-center>
      카드번호
      </ion-col>    
      <ion-col col-8 align-self-center>
        <ion-input #cardNo1Element style="background-color:#f7f7f9;" [(ngModel)]="cardNo"  placeholder="1234-5678-9012-3456" type="tel" (keyup)="changeCardNo()"> </ion-input>
      </ion-col>    
    </ion-row>
    <ion-row>
      <ion-col col-2 align-self-center>
        유효기간
      </ion-col>     
      <ion-col col-2 align-self-center>
        <ion-input style="background-color:#f7f7f9;" type="number" [(ngModel)]="expire"  (keyup)="changeExpire()" placeholder="MMYY"> </ion-input>
      </ion-col>
    </ion-row>
  
    <ion-row>
      <ion-col col-2 align-self-center>
        사업자번호
      </ion-col>     
      <ion-col col-5 align-self-center>
        <ion-input style="background-color:#f7f7f9;" type="tel"  [(ngModel)]="birth" (keyup)="changeBusinessNumber()" placeholder="123-45-67890"> </ion-input>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col col-2 align-self-center>
        비밀번호
      </ion-col>     
      <ion-col col-2 align-self-center>
        <ion-input style="background-color:#f7f7f9;" type="number" [(ngModel)]="cardPwd"  (keyup)="changeCardPwd()"  placeholder="2자리"> </ion-input>
      </ion-col>
      <ion-col col-4 align-self-center>
        XX(앞 2자리)
      </ion-col>
    </ion-row>  
  </div>

</div>               


<div padding>
  <a button (click)="showAgreement()" clear><span style="text-decoration: underline;"><b>신용카드 간편결제 약관</b></span></a> 
</div>

<div>
  <ion-item style="background-color:#f7f7f9;">
    <ion-label>약관내용에 동의합니다.</ion-label>
    <ion-checkbox [(ngModel)]="agreementChecked" (ionChange)="updateAgreement()"></ion-checkbox>
  </ion-item>
</div>


  <p padding>
  카드 정보는 단말기나 웨이티에 어떠한 형식으로도 저장되지 않습니다. 결제 서비스를 제공하는 결제 대행사(NICEPAY)에만 암호화 되어 저장됩니다.
</p>  
</ion-content>
<ion-footer>
  <ion-toolbar>
    <ion-row>
    <ion-col no-padding no-margin><button no-margin ion-button full (click)="addCard()" color="primary">등록</button></ion-col>
    </ion-row>
  </ion-toolbar>
</ion-footer>